FROM ghcr.io/dirtymieng/bootc-base:latest

# Enable RPM Fusion (required for Steam, etc.)
RUN dnf install -y \
    https://mirrors.rpmfusion.org/free/fedora/rpmfusion-free-release-43.noarch.rpm \
    https://mirrors.rpmfusion.org/nonfree/fedora/rpmfusion-nonfree-release-43.noarch.rpm \
    && dnf clean all

# Desktop environment
RUN dnf install -y \
    @kde-desktop-environment \
    && systemctl enable sddm \
    && dnf clean all

# Gaming packages
RUN dnf install -y \
    steam \
    lutris \
    gamemode \
    mangohud \
    wine \
    && dnf clean all

# GPU drivers (AMD - Mesa Vulkan)
RUN dnf install -y \
    mesa-vulkan-drivers \
    mesa-va-drivers \
    && dnf clean all

# Controller support (Steam includes udev rules)
RUN dnf install -y \
    steam-devices \
    && dnf clean all
